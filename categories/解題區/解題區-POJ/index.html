<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Category: 解題區 - POJ | Morris&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ACMer NEET NCU UVa OJ">
<meta property="og:type" content="website">
<meta property="og:title" content="Morris' Blog">
<meta property="og:url" content="http://morris821028.github.io/categories/解題區/解題區-POJ/">
<meta property="og:site_name" content="Morris' Blog">
<meta property="og:description" content="ACMer NEET NCU UVa OJ">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Morris' Blog">
<meta name="twitter:description" content="ACMer NEET NCU UVa OJ">
<link rel="publisher" href="108158678174364350000">

  
    <link rel="alternative" href="/atom.xml" title="Morris&#39; Blog" type="application/atom+xml">
  
  
    <meta name="google-site-verification" content="5mRgj8NanEMpGZuNfHNJNmH90RgNlrnJXsFlTaKD6Gs" />
  
  
    <link rel="shortcut icon" href="/img/f.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <script src="/js/jquery-2.1.0.min.js"></script>
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  
  <!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="http://cdn.oesmith.co.uk/morris-0.5.1.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="http://cdn.oesmith.co.uk/morris-0.5.1.min.js"></script>
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"><div id="banner-right"></div></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Morris&#39; Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Can you find me ?</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          
            <a class="main-nav-link" href="/"><i class=icon-home title='Home'></i></a>
          
        
          
            <a class="main-nav-link" href="/about"><i class=icon-user title='About'></i></a>
          
        
          
            <a class="main-nav-link" href="/archives"><i class=icon-archive title='Archives'></i></a>
          
        
          
            <a class="main-nav-link" href="/tags"><i class=icon-tags title='Tags'></i></a>
          
        
          
            <a class="main-nav-link" href="/picture"><i class=icon-camera title='Pictures'></i></a>
          
        
          
            <a class="main-nav-link" href="/works"><i class=icon-trophy title='Works'></i></a>
          
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://morris821028.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        
          <section id="main">
  
    <article id="post-poj-1811" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/08/poj-1811/" class="article-date">
  <time datetime="2015-07-08T00:04:13.000Z" itemprop="datePublished">Jul 8 2015</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/08/poj-1811/">POJ 1811 - Prime Test</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/07/08/poj-1811/" data-id="d91s5jsl0riimeli" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/07/08/poj-1811/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/miller-rabin/">miller-rabin</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pollard-rho/">pollard-rho</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/判斷質數/">判斷質數</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/模乘法/">模乘法</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>給一個大整數 $N \le 2^{54}$，判斷是否為質數，若不是則進行因數分解，並且輸出最小的質因數。</p>
<p>備註：大整數分解不可使用一般的 $O(\sqrt{N})$ 算法完成。</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">5</div><div class="line">10</div></pre></td></tr></table></figure>

<h2 id="Sample_Output">Sample Output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Prime</span></div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p>以下的寫法還不是最快的，而且沒有加上最小質因數的剪枝。若在 pollard-rho 算法中，使用 Brent’s algorithm 取代 Floyd’s algorithm 進行環偵測，同時減少模數使用會變得更快 (常數上)。</p>
<p>討論區提供卡邁克爾數 (Carmichael Number)，讓費馬素性檢驗 (Fermat primality test) 判斷失誤，若用盧卡斯-萊默檢驗法 (Miller–Rabin primality test) 則不受影響。這讓我想到寫過鄒賽爾數 (Zeisel Number) 生成，由數個質數構成大數 $N$ 能測試更多的效能瓶頸吧。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt; </span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;map&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> MAXL (50000&gt;&gt;5)+1</span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> GET(x) (mark[x&gt;&gt;5]&gt;&gt;(x&amp;31)&amp;1)</span></div><div class="line"><span class="preprocessor">#<span class="keyword">define</span> SET(x) (mark[x&gt;&gt;5] |= 1&lt;&lt;(x&amp;31))</span></div><div class="line"><span class="keyword">int</span> mark[MAXL];</div><div class="line"><span class="keyword">int</span> P[<span class="number">50000</span>], Pt = <span class="number">0</span>;</div><div class="line"><span class="keyword">void</span> sieve() {</div><div class="line">    <span class="keyword">register</span> <span class="keyword">int</span> i, j, k;</div><div class="line">    SET(<span class="number">1</span>);</div><div class="line">    <span class="keyword">int</span> n = <span class="number">46340</span>;</div><div class="line">    <span class="keyword">for</span> (i = <span class="number">2</span>; i &lt;= n; i++) {</div><div class="line">        <span class="keyword">if</span> (!GET(i)) {</div><div class="line">            <span class="keyword">for</span> (k = n/i, j = i*k; k &gt;= i; k--, j -= i)</div><div class="line">                SET(j);</div><div class="line">            P[Pt++] = i;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> mul(<span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> b, <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> mod) { </div><div class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ret = <span class="number">0</span>; </div><div class="line">	<span class="keyword">for</span> (a %= mod, b %= mod; b != <span class="number">0</span>; b &gt;&gt;= <span class="number">1</span>, a &lt;&lt;= <span class="number">1</span>, a = a &gt;= mod ? a - mod : a) {</div><div class="line">		<span class="keyword">if</span> (b&amp;<span class="number">1</span>) {</div><div class="line">			ret += a;</div><div class="line">			<span class="keyword">if</span> (ret &gt;= mod)	ret -= mod;</div><div class="line">		}</div><div class="line">	} </div><div class="line">	<span class="keyword">return</span> ret; </div><div class="line">}</div><div class="line"><span class="keyword">void</span> exgcd(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">long</span> <span class="keyword">long</span> y, <span class="keyword">long</span> <span class="keyword">long</span> &amp;g, <span class="keyword">long</span> <span class="keyword">long</span> &amp;a, <span class="keyword">long</span> <span class="keyword">long</span> &amp;b) {</div><div class="line">	<span class="keyword">if</span> (y == <span class="number">0</span>)</div><div class="line">		g = x, a = <span class="number">1</span>, b = <span class="number">0</span>;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		exgcd(y, x%y, g, b, a), b -= (x/y) * a;</div><div class="line">}</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> llgcd(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">long</span> <span class="keyword">long</span> y) {</div><div class="line">    <span class="keyword">if</span> (x &lt; <span class="number">0</span>)    x = -x;</div><div class="line">    <span class="keyword">if</span> (y &lt; <span class="number">0</span>)    y = -y;</div><div class="line">	<span class="keyword">if</span> (!x || !y)    <span class="keyword">return</span> x + y;</div><div class="line">	<span class="keyword">long</span> <span class="keyword">long</span> t;</div><div class="line">	<span class="keyword">while</span> (x%y)</div><div class="line">		t = x, x = y, y = t%y;</div><div class="line">	<span class="keyword">return</span> y;</div><div class="line">}</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> inverse(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">long</span> <span class="keyword">long</span> p) {</div><div class="line">	<span class="keyword">long</span> <span class="keyword">long</span> g, b, r;</div><div class="line">	exgcd(x, p, g, r, b);</div><div class="line">	<span class="keyword">if</span> (g &lt; <span class="number">0</span>)	r = -r;</div><div class="line">	<span class="keyword">return</span> (r%p + p)%p;</div><div class="line">}</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> mpow(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">long</span> <span class="keyword">long</span> y, <span class="keyword">long</span> <span class="keyword">long</span> mod) { <span class="comment">// mod &lt; 2^32 </span></div><div class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ret = <span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span> (y) {</div><div class="line">		<span class="keyword">if</span> (y&amp;<span class="number">1</span>) </div><div class="line">			ret = (ret * x)%mod;</div><div class="line">		y &gt;&gt;= <span class="number">1</span>, x = (x * x)%mod;</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> ret % mod;</div><div class="line">}</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> mpow2(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">long</span> <span class="keyword">long</span> y, <span class="keyword">long</span> <span class="keyword">long</span> mod) {</div><div class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ret = <span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span> (y) {</div><div class="line">		<span class="keyword">if</span> (y&amp;<span class="number">1</span>) </div><div class="line">			ret = mul(ret, x, mod);</div><div class="line">		y &gt;&gt;= <span class="number">1</span>, x = mul(x, x, mod);</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> ret % mod;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> isPrime(<span class="keyword">long</span> <span class="keyword">long</span> p) { <span class="comment">// implements by miller-babin</span></div><div class="line">	<span class="keyword">if</span> (p &lt; <span class="number">2</span>)	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span> (p == <span class="number">2</span>)	<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span> (!(p&amp;<span class="number">1</span>))	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">long</span> <span class="keyword">long</span> q = p-<span class="number">1</span>, a, t;</div><div class="line">	<span class="keyword">int</span> k = <span class="number">0</span>, b = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span> (!(q&amp;<span class="number">1</span>))	q &gt;&gt;= <span class="number">1</span>, k++;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> it = <span class="number">0</span>; it &lt; <span class="number">2</span>; it++) {</div><div class="line">		a = rand()%(p-<span class="number">4</span>) + <span class="number">2</span>;</div><div class="line">		t = mpow2(a, q, p);</div><div class="line">		b = (t == <span class="number">1</span>) || (t == p-<span class="number">1</span>);</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; k &amp;&amp; !b; i++) {</div><div class="line">			t = mul(t, t, p);</div><div class="line">			<span class="keyword">if</span> (t == p-<span class="number">1</span>)</div><div class="line">				b = <span class="number">1</span>;</div><div class="line">		}</div><div class="line">		<span class="keyword">if</span> (b == <span class="number">0</span>)</div><div class="line">			<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">}</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> pollard_rho(<span class="keyword">long</span> <span class="keyword">long</span> n, <span class="keyword">long</span> <span class="keyword">long</span> c) {</div><div class="line">    <span class="keyword">register</span> <span class="keyword">long</span> <span class="keyword">long</span> x = <span class="number">2</span>, y = <span class="number">2</span>, d;</div><div class="line">    <span class="keyword">do</span> { </div><div class="line">        x = mul(x, x, n)+c;</div><div class="line">        <span class="keyword">if</span> (x &gt;= n)	x -= n;</div><div class="line">        y = mul(y, y, n)+c;</div><div class="line">        <span class="keyword">if</span> (y &gt;= n)	y -= n;</div><div class="line">        y = mul(y, y, n)+c;</div><div class="line">        <span class="keyword">if</span> (y &gt;= n)	y -= n;</div><div class="line">        d = llgcd(x-y, n);</div><div class="line">        <span class="keyword">if</span>(d &gt; <span class="number">1</span>)    <span class="keyword">return</span> d;</div><div class="line">    } <span class="keyword">while</span>(<span class="keyword">true</span>);</div><div class="line">    <span class="keyword">return</span> n;</div><div class="line">}</div><div class="line"><span class="keyword">void</span> factorize(<span class="keyword">int</span> n, <span class="stl_container"><span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;</span> &amp;f) {</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Pt &amp;&amp; P[i]*P[i] &lt;= n; i++) {</div><div class="line">    	<span class="keyword">if</span> (n%P[i] == <span class="number">0</span>) {</div><div class="line">    		<span class="keyword">while</span> (n%P[i] == <span class="number">0</span>)</div><div class="line">    			f.push_back(P[i]), n /= P[i];</div><div class="line">    	}</div><div class="line">    }</div><div class="line">    <span class="keyword">if</span> (n != <span class="number">1</span>)	f.push_back(n);</div><div class="line">}</div><div class="line"><span class="keyword">void</span> llfactorize(<span class="keyword">long</span> <span class="keyword">long</span> n, <span class="stl_container"><span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;</span> &amp;f, <span class="keyword">int</span> i = <span class="number">2</span>) {</div><div class="line">	<span class="keyword">if</span> (n == <span class="number">1</span>)	</div><div class="line">		<span class="keyword">return</span> ;	</div><div class="line">	<span class="keyword">if</span> (n &lt; <span class="number">1e+9</span>) {</div><div class="line">		factorize(n, f);</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	}</div><div class="line">	<span class="keyword">if</span> (isPrime(n)) {</div><div class="line">		f.push_back(n);</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	}</div><div class="line"></div><div class="line">	<span class="keyword">long</span> <span class="keyword">long</span> d = n;</div><div class="line">	<span class="keyword">for</span> (; d == n; i++)</div><div class="line">		d = pollard_rho(n, i);</div><div class="line">	llfactorize(d, f, i);</div><div class="line">	llfactorize(n/d, f, i);</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	sieve();</div><div class="line">	<span class="keyword">int</span> testcase;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;testcase);</div><div class="line">	<span class="keyword">while</span> (testcase--) {</div><div class="line">		<span class="keyword">long</span> <span class="keyword">long</span> n;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;n);</div><div class="line">		</div><div class="line">		<span class="stl_container"><span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;</span> f;</div><div class="line">			</div><div class="line">		llfactorize(n, f);</div><div class="line">		sort(f.begin(), f.end());</div><div class="line">		</div><div class="line">		<span class="keyword">if</span> (f.size() == <span class="number">1</span>)</div><div class="line">			<span class="built_in">puts</span>(<span class="string">"Prime"</span>);</div><div class="line">		<span class="keyword">else</span></div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, f[<span class="number">0</span>]);</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-poj-1151" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/05/poj-1151/" class="article-date">
  <time datetime="2015-06-05T01:03:50.000Z" itemprop="datePublished">Jun 5 2015</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/05/poj-1151/">POJ 1151 - Atlantis</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2015/06/05/poj-1151/" data-id="xfbhgoc5y3nnft5m" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2015/06/05/poj-1151/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/掃描線/">掃描線</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/矩形面積并/">矩形面積并</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/線段樹/">線段樹</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Problem">Problem</h2>
<p>給一堆平行兩軸的矩形，請問面積的聯集為何。</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">2</div><div class="line">10 10 20 20</div><div class="line">15 15 25 25.5</div><div class="line">0</div></pre></td></tr></table></figure>

<h2 id="Sample_Output">Sample Output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Test <span class="keyword">case</span> <span class="comment">#1</span></div><div class="line">Total explored area: <span class="number">180.00</span></div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p>利用掃描線算法，從 x 軸小掃描到大，維度 y 軸上的覆蓋情況。</p>
<p>若單純用離散方法在 2D 網格上填充，算法複雜度是 $O(n^2)$，最慘情況還會再增加到 $O(n^4)$，平均上來說離散方法是可行，但是記憶體是 $O(n^2)$。</p>
<p>由於 ITSA 的那題 n 會高達 30000，於是拿這一題來練手，掃描線算法複雜度 $O(n \log n)$，利用線段樹操作時，維護某個區間的完全覆蓋數，當完全覆蓋數等於 0 時，則計算子樹的覆蓋長度總和，雖然沒辦法完全覆蓋，則部分覆蓋可以從子樹計算得到。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt; </span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;map&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;math.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;algorithm&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">262144</span>;</div><div class="line"><span class="keyword">class</span> SegmentTree {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="keyword">struct</span> Node {</div><div class="line">		<span class="keyword">int</span> cover;				<span class="comment">// #cover</span></div><div class="line">		<span class="keyword">double</span> L, R;			<span class="comment">// value in real line, cover [L, R]</span></div><div class="line">		<span class="keyword">double</span> clen;			<span class="comment">// cover length</span></div><div class="line">		<span class="keyword">void</span> init(<span class="keyword">int</span> a = <span class="number">0</span>, <span class="keyword">double</span> b = <span class="number">0</span>, <span class="keyword">double</span> c = <span class="number">0</span>, <span class="keyword">double</span> d = <span class="number">0</span>) {</div><div class="line">			cover = a, L = b, R = c, clen = d;</div><div class="line">		}</div><div class="line">	} nodes[MAXN];</div><div class="line">	<span class="keyword">double</span> Y[MAXN];</div><div class="line">	<span class="keyword">void</span> pushDown(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r) {</div><div class="line"></div><div class="line">	}</div><div class="line">	<span class="keyword">void</span> pushUp(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r) {</div><div class="line">		<span class="keyword">if</span> (nodes[k].cover &gt; <span class="number">0</span>) {</div><div class="line">			nodes[k].clen = nodes[k].R - nodes[k].L;</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			<span class="keyword">if</span> (l == r)</div><div class="line">				nodes[k].clen = <span class="number">0</span>;</div><div class="line">			<span class="keyword">else</span></div><div class="line">				nodes[k].clen = nodes[k&lt;&lt;<span class="number">1</span>].clen + nodes[k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].clen;</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="keyword">void</span> build(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r) { </div><div class="line">		nodes[k].init(<span class="number">0</span>, Y[l], Y[r+<span class="number">1</span>], <span class="number">0</span>);</div><div class="line">		<span class="keyword">if</span> (l == r)</div><div class="line">			<span class="keyword">return</span> ;</div><div class="line">		<span class="keyword">int</span> mid = (l + r)/<span class="number">2</span>;</div><div class="line">		build(k&lt;&lt;<span class="number">1</span>, l, mid);</div><div class="line">		build(k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>, mid+<span class="number">1</span>, r);</div><div class="line">		pushUp(k, l, r);</div><div class="line">	} </div><div class="line">	<span class="comment">// operator, add</span></div><div class="line">	<span class="keyword">void</span> addUpdate(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> val) {</div><div class="line">		nodes[k].cover += val;</div><div class="line">		<span class="keyword">if</span> (nodes[k].cover &gt; <span class="number">0</span>) {</div><div class="line">			nodes[k].clen = nodes[k].R - nodes[k].L;</div><div class="line">		} <span class="keyword">else</span> {</div><div class="line">			<span class="keyword">if</span> (l == r)</div><div class="line">				nodes[k].clen = <span class="number">0</span>;</div><div class="line">			<span class="keyword">else</span></div><div class="line">				nodes[k].clen = nodes[k&lt;&lt;<span class="number">1</span>].clen + nodes[k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].clen;</div><div class="line">		}</div><div class="line">	}</div><div class="line">	<span class="keyword">void</span> add(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> val) {</div><div class="line">		<span class="keyword">if</span> (x &lt;= l &amp;&amp; r &lt;= y) {</div><div class="line">			addUpdate(k, l, r, val);</div><div class="line">			<span class="keyword">return</span>;</div><div class="line">		}</div><div class="line">		pushDown(k, l, r);</div><div class="line">		<span class="keyword">int</span> mid = (l + r)/<span class="number">2</span>;</div><div class="line">		<span class="keyword">if</span> (x &lt;= mid)</div><div class="line">			add(k&lt;&lt;<span class="number">1</span>, l, mid, x, y, val);</div><div class="line">		<span class="keyword">if</span> (y &gt; mid)</div><div class="line">			add(k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>, mid+<span class="number">1</span>, r, x, y, val);</div><div class="line">		pushUp(k, l, r);</div><div class="line">	}</div><div class="line">	<span class="comment">// query </span></div><div class="line">	<span class="keyword">double</span> r_sum;</div><div class="line">	<span class="keyword">void</span> qinit() {</div><div class="line">		r_sum = <span class="number">0</span>;</div><div class="line">	}</div><div class="line">	<span class="keyword">void</span> query(<span class="keyword">int</span> k, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> x, <span class="keyword">int</span> y) {</div><div class="line">		<span class="keyword">if</span> (x &lt;= l &amp;&amp; r &lt;= y) {</div><div class="line">			r_sum += nodes[k].clen;</div><div class="line">			<span class="keyword">return</span> ;</div><div class="line">		}</div><div class="line">		pushDown(k, l, r);</div><div class="line">		<span class="keyword">int</span> mid = (l + r)/<span class="number">2</span>;</div><div class="line">		<span class="keyword">if</span> (x &lt;= mid)</div><div class="line">			query(k&lt;&lt;<span class="number">1</span>, l, mid, x, y);</div><div class="line">		<span class="keyword">if</span> (y &gt; mid)</div><div class="line">			query(k&lt;&lt;<span class="number">1</span>|<span class="number">1</span>, mid+<span class="number">1</span>, r, x, y);</div><div class="line">		pushUp(k, l, r);</div><div class="line">	}</div><div class="line">} tree;</div><div class="line"><span class="keyword">struct</span> Event {</div><div class="line">	<span class="keyword">double</span> x, yl, yr;</div><div class="line">	<span class="keyword">int</span> val;</div><div class="line">	Event(<span class="keyword">double</span> a = <span class="number">0</span>, <span class="keyword">double</span> b = <span class="number">0</span>, <span class="keyword">double</span> c = <span class="number">0</span>, <span class="keyword">int</span> d = <span class="number">0</span>):</div><div class="line">	x(a), yl(b), yr(c), val(d) {}</div><div class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Event &amp;a) <span class="keyword">const</span> {</div><div class="line">		<span class="keyword">return</span> x &lt; a.x;</div><div class="line">	}</div><div class="line">};</div><div class="line"><span class="keyword">double</span> Lx[<span class="number">32767</span>], Ly[<span class="number">32767</span>], Rx[<span class="number">32767</span>], Ry[<span class="number">32767</span>], K[<span class="number">32767</span>];</div><div class="line"><span class="keyword">int</span> N;</div><div class="line"><span class="keyword">double</span> areaCoverAll() {</div><div class="line">	<span class="stl_container"><span class="built_in">vector</span>&lt;Event&gt;</span> events;</div><div class="line">	<span class="stl_container"><span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt;</span> VY;</div><div class="line">	<span class="stl_container"><span class="built_in">map</span>&lt;<span class="keyword">double</span>, <span class="keyword">int</span>&gt;</span> RY;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) {</div><div class="line">		<span class="keyword">double</span> x1, x2, y1, y2;</div><div class="line">		x1 = Lx[i], x2 = Rx[i];</div><div class="line">		y1 = Ly[i], y2 = Ry[i];</div><div class="line">		events.push_back(Event(x1, y1, y2,  <span class="number">1</span>));</div><div class="line">		events.push_back(Event(x2, y1, y2, -<span class="number">1</span>));</div><div class="line">		VY.push_back(y1), VY.push_back(y2);</div><div class="line">	}</div><div class="line">	</div><div class="line">	sort(events.begin(), events.end());</div><div class="line">	sort(VY.begin(), VY.end());	</div><div class="line">	VY.resize(unique(VY.begin(), VY.end()) - VY.begin());</div><div class="line">	</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; VY.size(); i++) {</div><div class="line">		tree.Y[i] = VY[i];</div><div class="line">		RY[VY[i]] = i;</div><div class="line">	}</div><div class="line">	</div><div class="line">	tree.build(<span class="number">1</span>, <span class="number">0</span>, VY.size()-<span class="number">2</span>);</div><div class="line">	</div><div class="line">	<span class="keyword">double</span> area = <span class="number">0</span>, prevX = <span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j; i &lt; events.size(); ) {		</div><div class="line">		<span class="keyword">if</span> (i &gt; <span class="number">0</span>) {</div><div class="line">			tree.qinit();</div><div class="line">			tree.query(<span class="number">1</span>, <span class="number">0</span>, VY.size()-<span class="number">2</span>, <span class="number">0</span>, VY.size()-<span class="number">2</span>);</div><div class="line">			area += (events[i].x - prevX) * tree.r_sum;</div><div class="line">		}</div><div class="line">		j = i;</div><div class="line">		<span class="keyword">while</span> (j &lt; events.size() &amp;&amp; events[j].x &lt;= events[i].x) {</div><div class="line">			tree.add(<span class="number">1</span>, <span class="number">0</span>, VY.size()-<span class="number">2</span>, RY[events[j].yl], RY[events[j].yr] - <span class="number">1</span>, events[j].val);</div><div class="line">			j++;</div><div class="line">		}</div><div class="line">		prevX = events[i].x;</div><div class="line">		i = j;</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> area;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">	<span class="keyword">int</span> testcase, cases = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N) == <span class="number">1</span> &amp;&amp; N) {</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%lf %lf %lf %lf"</span>, &amp;Lx[i], &amp;Ly[i], &amp;Rx[i], &amp;Ry[i]);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Test case #%d\n"</span>, ++cases);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Total explored area: %.2f\n"</span>, areaCoverAll());</div><div class="line">		<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">	}</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"><span class="comment">/*</span></div><div class="line">2</div><div class="line">10 10 20 20</div><div class="line">15 15 25 25.5</div><div class="line">*/</div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
    <article id="post-oj/poj/poj-1166" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/05/06/oj/poj/poj-1166/" class="article-date">
  <time datetime="2014-05-06T00:34:56.000Z" itemprop="datePublished">May 6 2014</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/解題區/">解題區</a>►<a class="article-category-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a>
  </div>

  </div>
  <div class="article-inner ">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/05/06/oj/poj/poj-1166/">POJ 1166 - The Clocks</a>
    </h1>
  

      </header>
        
    <footer class="article-footer">
      <a data-url="http://morris821028.github.io/2014/05/06/oj/poj/poj-1166/" data-id="g5ejtrjs9mp1pxl9" class="article-share-link">Share</a>
      
        <a href="http://morris821028.github.io/2014/05/06/oj/poj/poj-1166/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/bfs/">bfs</a></li></ul>

    </footer>
    <div class="article-entry article-index" itemprop="articleBody">
      
          
        
          <div class="toggle-content">
            <h2 id="Description">Description</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span></div><div class="line"><span class="comment">|</span>       <span class="comment">|</span>    <span class="comment">|</span>       <span class="comment">|</span>    <span class="comment">|</span>   <span class="comment">|</span>   <span class="comment">|</span></div><div class="line"><span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">O</span>   <span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">O</span>   <span class="comment">|</span>    <span class="comment">|</span>   <span class="comment">O</span>   <span class="comment">|</span></div><div class="line"><span class="comment">|</span>       <span class="comment">|</span>    <span class="comment">|</span>       <span class="comment">|</span>    <span class="comment">|</span>       <span class="comment">|</span></div><div class="line"><span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span></div><div class="line"></div><div class="line">    <span class="comment">A</span>            <span class="comment">B</span>            <span class="comment">C</span>    </div><div class="line"></div><div class="line"><span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span></div><div class="line"><span class="comment">|</span>       <span class="comment">|</span>    <span class="comment">|</span>       <span class="comment">|</span>    <span class="comment">|</span>       <span class="comment">|</span></div><div class="line"><span class="comment">|</span>   <span class="comment">O</span>   <span class="comment">|</span>    <span class="comment">|</span>   <span class="comment">O</span>   <span class="comment">|</span>    <span class="comment">|</span>   <span class="comment">O</span>   <span class="comment">|</span></div><div class="line"><span class="comment">|</span>   <span class="comment">|</span>   <span class="comment">|</span>    <span class="comment">|</span>   <span class="comment">|</span>   <span class="comment">|</span>    <span class="comment">|</span>   <span class="comment">|</span>   <span class="comment">|</span></div><div class="line"><span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span></div><div class="line"></div><div class="line">    <span class="comment">D</span>            <span class="comment">E</span>            <span class="comment">F</span>    </div><div class="line"></div><div class="line"><span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span></div><div class="line"><span class="comment">|</span>       <span class="comment">|</span>    <span class="comment">|</span>       <span class="comment">|</span>    <span class="comment">|</span>       <span class="comment">|</span></div><div class="line"><span class="comment">|</span>   <span class="comment">O</span>   <span class="comment">|</span>    <span class="comment">|</span>   <span class="comment">O</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span>   <span class="comment">O</span>   <span class="comment">|</span></div><div class="line"><span class="comment">|</span>   <span class="comment">|</span>   <span class="comment">|</span>    <span class="comment">|</span>       <span class="comment">|</span>    <span class="comment">|</span>   <span class="comment">|</span>   <span class="comment">|</span></div><div class="line"><span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span>    <span class="comment">|</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="comment">|</span></div><div class="line"></div><div class="line">    <span class="comment">G</span>            <span class="comment">H</span>            <span class="comment">I</span></div></pre></td></tr></table></figure>

<p>(Figure 1)</p>
<p>There are nine clocks in a 3*3 array (figure 1). The goal is to return all the dials to 12 o’clock with as few moves as possible. There are nine different allowed ways to turn the dials on the clocks. Each such way is called a move. Select for each move a number 1 to 9. That number will turn the dials 90’ (degrees) clockwise on those clocks which are affected according to figure 2 below.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Move</th>
<th style="text-align:left">Affected clocks </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:left">ABDE        </td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:left">ABC         </td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:left">BCEF        </td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:left">ADG         </td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:left">BDEFH       </td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:left">CFI         </td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:left">DEGH        </td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:left">GHI         </td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:left">EFHI        </td>
</tr>
</tbody>
</table>
<p>   (Figure 2)</p>
<h2 id="Input">Input</h2>
<p>Your program is to read from standard input. Nine numbers give the start positions of the dials. 0=12 o’clock, 1=3 o’clock, 2=6 o’clock, 3=9 o’clock.</p>
<h2 id="Output">Output</h2>
<p>Your program is to write to standard output. Output a shortest sorted sequence of moves (numbers), which returns all the dials to 12 o’clock. You are convinced that the answer is unique.</p>
<h2 id="Sample_Input">Sample Input</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">3 3 0</div><div class="line">2 2 2</div><div class="line">2 1 2</div></pre></td></tr></table></figure>

<h2 id="Sample_Output">Sample Output</h2>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">4 5 8 9</div></pre></td></tr></table></figure>

<h2 id="Solution">Solution</h2>
<p>原來之前寫過這一題，請參閱 <a href="http://zerojudge.tw/ShowProblem?problemid=d730" target="_blank" rel="external">d730: 升旗典礼 ——加强版</a></p>
<p>用 BFS 從 <code>0 0 0 0 0 0 0 0 0</code> 開始倒推回去，在 mark 的部份，用 4 進制 bitmask。</p>
<p>這題在 POJ 似乎只有一組測資，在 Zerojudge 則有非常多筆測資。</p>
<p>而事實上網路上還有另外一個高斯消去法，先預求反矩陣，之後直接帶入計算即可。沒有仔細去研究，不過聽說那解法限定一定有合法解，如何判定不合法解又是另外一個問題。總之，用了 BFS 過了就沒仔細去探討其他解法。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;queue&gt;</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">char</span> mark[<span class="number">1</span>&lt;&lt;<span class="number">18</span>] = {}, ans[<span class="number">1</span>&lt;&lt;<span class="number">18</span>], best[<span class="number">1</span>&lt;&lt;<span class="number">18</span>];</div><div class="line"><span class="keyword">char</span> dirp[<span class="number">4</span>] = {-<span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>};</div><div class="line"><span class="keyword">int</span> next[<span class="number">1</span>&lt;&lt;<span class="number">18</span>] = {};</div><div class="line"><span class="keyword">int</span> pow4[<span class="number">10</span>] = {<span class="number">1</span>};</div><div class="line"><span class="keyword">int</span> move[<span class="number">10</span>][<span class="number">7</span>] = { {},</div><div class="line">                 	{<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">0</span>},</div><div class="line">                 	{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>},</div><div class="line">                 	{<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">0</span>},</div><div class="line">                 	{<span class="number">1</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">0</span>},</div><div class="line">                 	{<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>},</div><div class="line">                 	{<span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">0</span>},</div><div class="line">                 	{<span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">0</span>},</div><div class="line">                 	{<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">0</span>},</div><div class="line">                 	{<span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">0</span>}</div><div class="line">                   };</div><div class="line"><span class="keyword">void</span> trans(<span class="keyword">int</span> N, <span class="keyword">char</span> s[]) {</div><div class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(N) {</div><div class="line">        s[i++] = N%<span class="number">4</span>, N /= <span class="number">4</span>;</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keyword">void</span> build() {</div><div class="line">    <span class="keyword">int</span> a, b, c, qt = <span class="number">0</span>, t, p;</div><div class="line">    <span class="stl_container"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;</span> Q;</div><div class="line">    best[<span class="number">0</span>] = <span class="number">0</span>, mark[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">    Q.push(<span class="number">0</span>);</div><div class="line">    <span class="keyword">while</span>(!Q.empty()) {</div><div class="line">    	<span class="keyword">int</span> state = Q.front();</div><div class="line">    	Q.pop();</div><div class="line">    	<span class="keyword">char</span> buf[<span class="number">10</span>] = {};</div><div class="line">    	trans(state, buf);</div><div class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) {</div><div class="line">    		<span class="keyword">int</span> nstate = state;</div><div class="line">    		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; move[i][j]; j++)</div><div class="line">    			nstate -= pow4[move[i][j] - <span class="number">1</span>] * dirp[buf[move[i][j] - <span class="number">1</span>]];</div><div class="line">    		<span class="keyword">if</span>(mark[nstate] == <span class="number">0</span>) {</div><div class="line">    			mark[nstate] = <span class="number">1</span>;</div><div class="line">    			next[nstate] = state;</div><div class="line">				best[nstate] = best[state] + <span class="number">1</span>;</div><div class="line">				ans[nstate] = i + <span class="string">'0'</span>;</div><div class="line">    			Q.push(nstate);</div><div class="line">    		}</div><div class="line">    	}</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keyword">int</span> print_f = <span class="number">0</span>;</div><div class="line"><span class="keyword">void</span> Print(<span class="keyword">int</span> state) {</div><div class="line">    <span class="keyword">if</span>(state) {</div><div class="line">        Print(next[state]);</div><div class="line">        <span class="keyword">if</span>(print_f)</div><div class="line">			<span class="built_in">putchar</span>(<span class="string">' '</span>);</div><div class="line">        print_f = <span class="number">1</span>;</div><div class="line">        <span class="built_in">putchar</span>(ans[state]);</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main() {</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++)</div><div class="line">        pow4[i] = pow4[i-<span class="number">1</span>] * <span class="number">4</span>;</div><div class="line">    build();</div><div class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>) {</div><div class="line">    	<span class="keyword">int</span> state = <span class="number">0</span>, x;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) {</div><div class="line">            <span class="keyword">if</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x) != <span class="number">1</span>)</div><div class="line">            	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">            state |= x * pow4[i];</div><div class="line">        }</div><div class="line">        print_f = <span class="number">0</span>;</div><div class="line">        Print(state);</div><div class="line">		<span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}  </div></pre></td></tr></table></figure>
          </div>
          <div class="toggle-input article-more-link"><a>Read More +</a></div>
        
      
    </div>

  </div>
  
</article>


  
  
</section>
          
            <aside id="sidebar">
  <div id="ukagaka_panel"></div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/">學校課程</a><span class="category-list-count">63</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/介面設計/">介面設計</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/作業系統/">作業系統</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/大學專題/">大學專題</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/巨量資料/">巨量資料</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/敏捷方法/">敏捷方法</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/編譯器/">編譯器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/自然語言/">自然語言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/虛擬實境/">虛擬實境</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算型智慧/">計算型智慧</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/計算幾何/">計算幾何</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資料庫系統/">資料庫系統</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/資訊安全/">資訊安全</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/學校課程/通識課程/">通識課程</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/手札日記/">手札日記</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/">網頁設計</a><span class="category-list-count">14</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/About-This-Blog/">About This Blog</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/HTML5/">HTML5</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/JQuery/">JQuery</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/Markdown/">Markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/網頁設計/NodeJs/">NodeJs</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/">解題區</a><span class="category-list-count">552</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/Latex/">Latex</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/出題解題/">出題解題</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-POJ/">解題區 - POJ</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-UVa/">解題區 - UVa</a><span class="category-list-count">453</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-Zerojudge/">解題區 - Zerojudge</a><span class="category-list-count">50</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-其他題目/">解題區 - 其他題目</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/解題區/解題區-未解題目/">解題區 - 未解題目</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/雜言筆記/">雜言筆記</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a class="text" href="/2015/07/15/zj-b446/">
              
                <i class="icon-file-o"></i> 
              
            b446. 搜索美學 史蒂芙的煩惱</a>
          </li>
        
          <li>
            <a class="text" href="/2015/07/15/zj-b443/">
              
                <i class="icon-file-o"></i> 
              
            b443. 我愛 Fibonacci</a>
          </li>
        
          <li>
            <a class="text" href="/2015/07/13/zj-b444/">
              
                <i class="icon-file-o"></i> 
              
            b444. 期望試驗 快速冪次</a>
          </li>
        
          <li>
            <a class="text" href="/2015/07/12/diary-20150712/">
              
                <i class="icon-file-o"></i> 
              
            在醒不來的夢中探索</a>
          </li>
        
          <li>
            <a class="text" href="/2015/07/12/zj-b440/">
              
                <i class="icon-file-o"></i> 
              
            b440. 互質對</a>
          </li>
        
          <li>
            <a class="text" href="/2015/07/12/zj-b441/">
              
                <i class="icon-file-o"></i> 
              
            b441. 延展尺寸</a>
          </li>
        
          <li>
            <a class="text" href="/2015/07/12/zj-b438/">
              
                <i class="icon-file-o"></i> 
              
            b438. 裁剪尺寸</a>
          </li>
        
          <li>
            <a class="text" href="/2015/07/11/zj-b442/">
              
                <i class="icon-file-o"></i> 
              
            b442. 快取實驗 矩陣乘法</a>
          </li>
        
          <li>
            <a class="text" href="/2015/07/11/zj-b439/">
              
                <i class="icon-file-o"></i> 
              
            b439. 快取置換機制</a>
          </li>
        
          <li>
            <a class="text" href="/2015/07/11/zj-b435/">
              
                <i class="icon-file-o"></i> 
              
            b435. 尋找原根</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">   
      	<ul>
	      <li><a href="http://mypaper.pchome.com.tw/zerojudge" target="_blank" title="Old Blog"><i class="icon-star"></i> Morris' Blog (pchome)</a></li>
	      <li><a href="http://flere114.blogspot.tw/" target="_blank" title="蘿莉勿觸"><i class="icon-googles"></i> flere's Blog</a></li>
	      <li><a href="http://dreamoon4.blogspot.tw/" target="_blank" title="夢月"><i class="icon-googles"></i> dreamoon's Blog</a></li>
	      <li><a href="http://m80126colin.github.io" target="_blank" title="許胖們"><i class="icon-github-alt"></i> m80126colin's Blog</a></li>
	      <li><a href="http://sd12582000.blogspot.tw/" target="_blank" title="妮可妮可"><i class="icon-github-alt"></i> Nico's Blog</a></li>
	      <li><a href="http://kuoe0.logdown.com/" target="_blank" title="郭至軒大神"><i class="icon-github-alt"></i> KuoE0's Dots</a></li>
	      <li><a href="http://tyan.io/" title=""><i class="icon-github-alt"></i> Tyan Blog</a></li>
    	</ul>
    </div>
</div>

  
    
<script src="/js/jquery-ui.js"></script>
<script src="/js/ukagaka/jquery.morris.ukagaka.resource.js"></script>
<script src="/js/ukagaka/typed.js"></script>
<script type="text/javascript">
  $('#ukagaka_panel').ukagaka();
</script>
  
</aside>
          
        
      </div>
      <footer id="footer">
  
  <div class="outer">    
    <div class="social-group">
      
      <a href="https://github.com/morris821028" target="_blank" title="github"><i class="icon-github"></i></a>
      
      
      <a href="https://plus.google.com/u/0/108158678174364359204" target="_blank" title="Google+"><i class="icon-google-plus-sign"></i></a>
      
      
      <a href="https://www.facebook.com/Morris1028" target="_blank" title="facebook"><i class="icon-facebook-sign"></i></a>
      
      
      <a href="http://uhunt.felix-halim.net/id/46705" target="_blank" title="uhunt" ><span class="icon-uhunt">UVa<span></a>
      
    </div>
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/morris821028/hexo-theme-landscape" target="_blank" title="landscape">landscape</a> &copy; 2015 Shiang-Yun Yang 
    </div>  

  </div>
</footer>


    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link"><i class=icon-home ></i>&nbsp&nbspHome</a>
  
    <a href="/about" class="mobile-nav-link"><i class=icon-user ></i>&nbsp&nbspAbout</a>
  
    <a href="/archives" class="mobile-nav-link"><i class=icon-archive ></i>&nbsp&nbspArchives</a>
  
    <a href="/tags" class="mobile-nav-link"><i class=icon-tags ></i>&nbsp&nbspTags</a>
  
    <a href="/picture" class="mobile-nav-link"><i class=icon-camera ></i>&nbsp&nbspPictures</a>
  
    <a href="/works" class="mobile-nav-link"><i class=icon-trophy ></i>&nbsp&nbspWorks</a>
  
</nav>
    
<script>
  var disqus_shortname = 'morris1028';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/jquery.lazyload.js" type="text/javascript"></script>

<script src="/js/jquery.als-1.6.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>


  </div>
</body>
</html>